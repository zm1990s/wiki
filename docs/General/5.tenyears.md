---
layout: default
title: 工作十年
nav_order: 5
parent: 通用知识
permalink: /docs/general/10years
---

{: .no_toc}

# 目录

{: .no_toc .text-delta }


1. TOC
{:toc}

# 序

2023 年 3 月 11 日，刚过完忙碌的一周，就着辣条喝着第二杯咖啡，音乐安排上，打开了大学同学的十年编程之旅...

仔细一想，这已经是我本科毕业后的第 10 年，刚好看到大学好友在更新他的十年编程之旅，看了几篇，感触颇多，刚好最近在豆瓣偶尔发的一篇工作经验贴也得到了不少关注，于是也想把过去那些模糊的记忆梳理一下，记录这过去的十多年。

十年的故事，说多不多，说少也不少，很多事情虽然一开始想不到走向，但最终会逐个串在一起，成为完整的一个故事。

为了尽可能记录清过去的事，又不让故事显得零碎，我会尝试分别按照时间顺序以及关键词两个维度记录这十年。

# 毕业即失业？大学毕业的零碎记忆

有些人生来就知道自己想要什么，应该如何去实现；有些人则每日混混沌沌，不知道自己想要什么，更别提应该怎么去做。这两种人生或许没有对错，每个人都是井底之蛙，只能看到自己周围的一片天，有些人运气好，终会跳出自己的井，看到了外面的世界，有些人可能安于自己的处境，活的也挺自在。

曾经，我是混沌过日子的人，后来，跳了出来。先讲讲大学和毕业时的事。



大学印象最深的有两件事：

第一件：大四某天在图书馆自习，碰到一位新闻传播学院的同学，她在做毕业设计，想要采访一下即将毕业的同学，看看大家对于未来的期待和规划是什么样子的，采访到了我，被我拒绝了，拒绝的理由很简单，我不知道未来想干什么，也没有任何计划。

第二件：大四应该是我最焦虑的一年，因为在别人都忙于实习找工作的时候，我却在为毕业焦虑，曾经挂了太多科目，印象中有 7 门之多，一半大三搞定了，剩下的一直到了大四和大补考才完成。幸运的是及时通过了所有科目，但不幸的是，错过了招聘的高峰期。其实，我当时并不知道校招的高峰期是什么时候，我也不想在天津找工作，因为那边的天气。

以上两件事，成为求职之路坎坷的起点。



毕业应该是在 2013 年的 6 月，因为实在不喜欢天津当时的雾霾，于是收拾行李，告别了生活四年的学校，回到了老家，想着在那段时间稍事调整，慢慢找工作，那时候唯一知道的找工作路径就是在智联招聘海投简历，等着有人联系，很可惜，没有任何专业技能的我只能被培训机构看上，经过一番思索，踏上了赴京之旅，想着花三四个月的时间参加培训，然后机构帮忙介绍工作，应该也是一种不错的选择吧。

依稀记得乘着西安到北京的卧铺，早上 6 点多就到了北京，7 点多就早早到了培训机构的门口，吃了随身携带的口粮。接待我的是位略微发福的主管，早上大致介绍了下他们公司的荣誉和培训的整体安排，让我早上先试听一下，然后再决定要不要参加，于是把我带到四五十平左右，二三十人的一个小教室里。

培训内容和企业 IT 相关，当时好像是在讲 Linux Server 的一些组件，培训内容我还算听得懂，但是整个过程并不享受，原因是上课基本是单向传输，下面的听众并不会问太多问题，另外就是大家对于我这个新人都挺谨慎（当然也可能是我过于敏感），请教一些和学习相关或者无关的问题时，对方都说不知道或者不想探讨。对于大学课堂上还算积极的我来说，这不是我想要的学习环境，于是中午吃完饭就和主管说我不想参加了（当时另一个原因是开销，培训机构有签约宿舍，价格好像 800 左右，四人住高低床，和大学类似，没有空调，当时夏天的天也让人非常难耐，于是害怕睡眠不好影响到学习）。

忘记当时主管说了什么，只记得我们谈到了人生，我说有时候都想去出家之类的，有些看破红尘的意思，然后主管用他自己的亲身故事给我当头一棒，大致就是他的父亲生了大病，为了止痛需要使用某些很贵的药物，一天过万的那种，父亲舍不得用，但他坚持让父亲用等等。总之是想给我灌输钱很重要的思想，鼓励我上进，同时还讲了讲他自己的成功之旅，曾经做网络项目出差的种种惬意时刻，有那么一刻，我还是挺向往那些故事中的生活，但很快就被我抛之脑后，因为毕竟那是过去的故事，只适用于过去，而过去不再，否则他也不会转做培训行业。

聊天的结尾，我大致表达了我想回西安的想法，他的建议是回去就找个工作慢慢来，不要去培训机构，我表示感谢，还说回头如果找到了工作会发短信通知他。

我最终没听他的话，还是去了培训机构...



当时在北京还发生过一些小事，这些小事决定了我未来的人生走向。

在北京，我联系了在 CCTV 实习的朋友，他自己一人在北京住宿，表示可以接纳我住几个晚上，于是在和培训机构谈完后，在下班的时间点，我乘地铁从北二环前往南四环，大致花了一个小时左右的时间，那是令我窒息的一个小时，夏天，再加上晚高峰，我手里还拖着行李，没有工作，借宿，颇有些沦落人在天涯的感觉。

到了朋友家，那是一个方形的公寓，他的房间在公寓中心的位置，有个小窗户，通向过道，没有任何的采光。公寓内必备的设施只有嵌入式洗手间加一张床一张桌子，其他家居应该都是后来置备的，包括小风扇。房间因为通风不好，会有些异味，但待久了还能接受，至少睡得着。

就这样住了五六天，中途去三甲医院看了看我的慢性病，还去国家图书馆晃悠，剩余时间偶尔刷刷求职平台的消息，当时同时投递了上海和西安的岗位，想着哪边先有消息就去哪边，后来第一个通知面试的是一家西安硬件研发公司，于是乘车回到了西安。

回到西安，联系了一个西电的同学，他复读过一年，因此当时还在校，虽然是暑假，但是他有培训要参加也在校，于是在他的寝室又借宿了两三天。这两天除了面试，还和他一起聊了很多，只记得他身边有很多优秀的同学，拿过各种奖项，未来一片光明等等，还了解到当时租房子。

西安的工作机会并不多，简历很多都是石沉大海，只有少数几个面试过，都因缺少经验没了下文。

经过一周多的煎熬，最后去了一家做 Cisco 培训的机构，标称培训后包就业，那是一家很小的培训机构，讲师少，培训的人也少，试听课应该只有 5 个人左右，经过现实的打击，当时认为这是最好的一条路，学习环境也很自由，于是开启了一年多的培训之旅。

等等，为啥长达一年？因为好胜。

最初的培训只有 4 个月，根据工作需要讲解 CCNP 相关的知识，培训到结尾的时候，有一半的人工作了，我当时有些犹豫要不要工作，可能是被一些故事影响到，觉得我需要考下 CCIE，但额外近 1w 的培训费让我纠结了很久。

经过和家人商量，掏了钱，开始进阶培训，这次的班更小，就三个人。

人少了，课程也疏于管理，再加上考试题目更新，一直到第二年 10 月才去参加考试。中间的时光可以说挺惬意，每天9点到培训机构，学习实验，累了看电影休息，每天中午吃冒菜，晚上吃面，晚高峰过后回家。

当时除了课程的内容外，还花了很多时间去了解为什么，看了不少 Cisco 官方的英文文档，比如 IOS IP 配置指南、L2 安全、交换机配置指南相关文档等，针对可以实验的部分，都做了详细的测试和记录，这对于后来的工作有很多帮助。

在培训机构，也“志愿”参加过两个小项目，一个是去宁夏固原的某电厂装路由器，另一个是去咸阳某个小地方装视频会议，这两个在当时看来都有一些挑战。前者是 MPLS VPN，当时我连 BGP 都没学，更别提更复杂的 VPN，不过参照着别人给的模板，边学边配置，最终还算顺利，当时还收获了一个多出来的 BNC 接头，作为第一次独立做项目的纪念，在我的钥匙串上挂了很久。后者虽然是个视频会议系统，但也是要配置 VPN 和远端连接，配置并不简单，是个检验知识的好时机。

接着时间到了 2014 年 5 月，觉得当时每天打卡培训机构已经没意义了，于是趁着国庆回老家待着。

差不多七月份，约了北京的考试，考试费用 10800，在当时看来是很大一笔费用，汇款的时候银行柜员都说什么考试这么贵，不过后来证明这笔钱还是花的比较值，10 月初我顺利拿到 CCIE。

还记得考完试后和北京的大学同学一起去国图，中午和他一起在吃 KFC 时刷到了通过的邮件，那时的画面就犹如《当幸福来敲门》最后的场景，满脸都是阳光和温暖。

拿到 CCIE 后就职之旅也变得异常简单，曾经听说培训机构有个合作公司，于是要来了名称，找到了官网的联系方式，直接电话过去问对方还招不招人，对方给了个邮箱发了简历，之后就是面试。

面试应该有三个人，本来是项目部李主管初面，但是因为项目上忙，被换成杨经理，但当时杨经理实际上只负责 VMware 虚拟化，但我是来应聘网络岗的，所以问了几个我也搞不清楚的问题草草了事。第二个是技术总监相总，这是位我现在依然很敬仰的前辈，很可惜最终没能一起长期共事，当时他问的问题很简单，画一张拓扑图，然后解释为什么要这样设计，在当时我并没有有相关的思维，Paper IE 的通病，没有任何实战经验，然后还到 Linux 下传文件的方式，我说了个他没听过的方式，虽不是期望的标准答案，但也符合题意。接着是王总的面试，主要聊工作规划等等，我只记得当时说我想出国，当时可能是受到老 CCIE 故事的影响了吧。最后 HR 大致介绍了下公司的业务，然后就回家等通知。

之后面试结果出来了：没太多经验，但可培养，顺利入职第一家公司。



这段经历充满了很多随机性，对于一个本来就没什么想法的人，这应该也只是我唯一能做的。如果有年轻读者看到这些，我唯一的建议就是如果想要毕业时就业顺利，就要趁早去实习和面试，积累经验，早点知道自己在社会上的价值。



# 第一份工作-2014~2015

在西安这个经济发展一般的地方，IT 圈子也比较小，CCIE 也显得稀有一些，拿到证书之后立竿见影的两个好处有：

- 工资会比其他新入职高个几百

- 没事别人不会来麻烦你

第一个好处是我预料之中的，就和文凭一样，学历高一些公司通常会区别对待。第二个则是预料之外的，而这竟然成为我之后转型的重要机遇。



入职之后前三个月是试用期，通常新手来都是跟着其他前辈去跑项目，当时忘记什么原因，入职两个人，另一个同事被派到了项目上，而我则每天在公司待着，待着也无聊，我继承了之前考 CCIE 的习惯，抱着一腔热血学习 Cisco 安全，最初是用 GNS3 模拟器研究 ASA 防火墙，虚拟机装 ACS 学习 AAA，同时总结写笔记。谁能想到在 2015 年初，技术级别考试就用到了当时学的东西，为我的成绩加分不少。

在我入职一个月后，来了位新同事，曾在惠普工作，后来得知是曾经公司一位前辈推荐进来的，来公司主要做系统，当时我对系统工程师并没有太多了解，能想到的就是装系统配置 Linux 之类的事，大学花了不少时间在 Linux 上，因此对于这类工作不是特别在意，感觉有些"过于简单"。这位同事来公司后和我一样一开始并没有太多工作，于是安装虚拟化，出于好奇跟着他学习 ESXi 虚拟化的安装，当时发现这个真的超简单，半天能学完的东西，最初的时候还对虚拟化没有太全的理解，以为这是一种分布式计算系统，想着多个节点能当成一台机器来处理大规模流量...后来得知虚拟化只是提升资源利用率时，有那么些许失望。

不管最初对于虚拟化的认识是什么样，后来坚持学完了 vCenter 的部署、集群的部署、共享存储的部署，基本入门虚拟化。同时还要感谢当时别人共享的 CCIE-DC 的视频资料， 意外的发现这个课程里有一部分专门讲虚拟化，深入浅出。

在闲暇的时间里，还花了一些时间学习 Cisco Nexus 相关的技术，当时做网络的方向基本就是路由交换、安全和数据中心，Nexus 是数据中心中最重要的内容，Nexus 没有现成的设备可以把玩，于是只能啃视频和文档，VPC、VDC 等技术的细节很多，不过之前还算深度学习过交换机和虚拟化，因此学起来也不是很费力。



三个月很快就过去了，期间可能有一大半的时间就是在公司学习，偶尔去项目上帮个忙，有些理论技术上的积累，没有什么系统性的提升（尤其是对项目的前前后后）。试用期转正比较简单，写一个 PPT 介绍下公司，再总结下之前的工作和未来的计划。还记得当时 HR 听完我的汇报后的评价是，我是唯一一个看过公司网站的人（言外之意很用心），因为有些最新的资质是最近才更新到公司网站的，其他地方并没有。



接着迎来了入职的第一个技术考评，当时公司也在做一些转型，原来都是系统的人参加系统相关的考试，网络的参加网络的考试，2015 年改成所有人都需要参加这两个考试，评测综合能力，就像是上天在帮我一样，试用期的所学全部用上了，最终成绩是两个测试方向我均是全公司第二，作为一个新来的还没有任何工作经验的人，这个成绩让很多人认识了我，也让我得到一次小小的加薪。



2015 年整体来说是收获颇丰的一年，大大小小的项目和测试做过很多，每个都或多或少带来一些改变：

## 某城商行核心 N7K 引擎扩容项目

这个项目的背景可能有些匪夷所思，因为一般核心网络设计一定是各种冗余，竟然还会有设备单引擎的设计？

后来打听了下，原来项目规划的是双机单引擎板，有了双机，单引擎这种额外的冗余显得就没太大必要，但是有次银行做灾备演练时发现竟然没切成功，造成业务中断。返回来查时发现某些汇聚是单线接入到单个核心，并不是像理想的状态双线接到两个核心...

这个问题一时半会儿没办法解决，只能给所有核心设备增加引擎，提升单机的可靠性...

这个项目的难度还是有些高，主要问题在于新购买的引擎软件版本低，已有设备软件版本高，还得先去升级新引擎软件版本，再做扩容，而 Nexus 这种百万级的核心设备基本找不到备件来做降级以及测试验证。于是实施前花了很长时间啃文档，完善实施流程。另外割接时间只有 2 小时，在银行的灾备演练之前进行，如果我的工作完不成，会直接影响后面的灾备演练，一堆人可能都会白来现场。

即使准备的万全，最终还是翻车了，碰到两个坑：

第一个坑是给引擎升级完软件后，发现系统竟然报内存不足，后来看到原来引擎配置了 8G 内存，而新的引擎配置了 4G，新版本的 NXOS 需要 8G 才能跑起来。之前设备采购谁都没想到这个问题...

另一个坑是在做引擎切换时，原来的引擎竟然挂了，起不来了，后来根据日志判断是内存坏掉了，最后没办法只能把新引擎的两个内存条都拔下来换上，最终进行了回退。

后来和公司前辈反馈了问题，根据经验判断是某个年份采购的思科设备均有内存问题，断电重启后内存会挂，后来在一个运营商的项目也碰到了，几年后我和思科的人聊起往事，他也承认了这个事实。

有了前车之鉴，公司 PM 立马加急采购内存，为了防止意外发生，额外采购了 2 条 4G 内存 ，最终证明该来的还会再来，第二次割接时另一台 N7K 的内存也挂掉了...

这个项目工作量并没有多少，但是我一个人独立完成的第一个项目，还记得割接前在监控室几十个人在等待，他们能否早早回家取决于我是否顺利割接，也记得第二天凌晨，出门的时候牛肉面馆已开门，吃个早饭安心的睡了。有辛苦，也有收获、认可和满足。

## 某烟厂园区新建项目

介入这个项目时，实际上实施已经有一段时间了，一来项目缺人，二来碰到虚拟化的一些疑难杂症，项目上亟需外援。

开车和 PM、总监、其他小朋友一起到了现场，第一件事就是解燃眉之急，为啥同一批服务器，同一批网络设备，有些服务器网络通，有些不通，找不到任何规律。

已经忘记的排查思路是什么样的，只记得检查过软件配置没问题，然后去测交换机直连服务器时，发现网络通了...

之后一一测试发现，只要直连网络就能通，进而推测是配线架搞的鬼，后来丢给总包，找师傅重做配线架去了。

在这个 Case 里，会发现真实世界的排错并不是独立掌握好一门技术就好，曾经试用期学的虚拟化帮到了我，之前各种实验对我的排错思维敏感度提升也有一些帮助，或者换句话说，知识广和知识深同等重要。

在这之外，项目里基本涵盖了常见的各种思科设备，N7k 当核心，C45xx 做汇聚，无线全家桶，一个项目下来收获不少。

项目里还有一件事让我耿耿于怀，当时总包 PM 是个黝黑的小伙子，很年轻，一开始的时候很是佩服他的胆识，直到他当着我的面，开始质疑我的技术...

也不知道是不是出于年轻人的冲动，我打心底里不想再支持他的项目，后来迟迟没给他一些测试报告，结果闹得不咋愉快。

就像《头脑特工队》里的场景一样，不愉快的记忆有时候反倒印象深刻，如果当时的我不在乎那些评价，或许是另一种结果。

## 某科研院所园区新建项目

刚入司的第一个目标是学习 Cisco 安全，所学知识在这个项目里就用到了，所有安全设备的安装实施由我来负责，核心设备的安装也有我来，过程非常顺利，直到后来，同事重做了我安装的核心设备...

这就需要谈到理论和实践这两个词。

不得不佩服 Cisco 是家伟大的公司，产品设计领先，官方文档也非常好，即使没有什么资源，也可以从官方文档里学到很多知识，和”最佳实践“。

网络的核心是实现端到端连通性，为了保证连通性通常需要各种冗余，从设备内到设备间，随着网络演进出现了一大堆高可用相关的技术，VSS 就是其中一种，后来很多交换机或者其他设备都具备类似 VSS 一样的软堆叠方案。

这种方案在文档中描述很全面，无论是功能还是防脑裂都有详细的文档记录，因此在项目之初我想都没想用了这种架构，这种架构还有个好处就是可以使用 LACP 等链路捆绑技术，链路冗余也可以做的很好。

之后大概一个月听说现场工程师把 VSS 拆了，换成了传统的 STP+VRRP 架构。

有次在公司技术分享会上，谈及这部分的设计，我举手问为什么不使用 VSS，根据文档看能够最大程度提供高可用，保证故障发生后快速切换。技术总监听到这个问题，耐心做了解答，大致记得他说：”经过多年的实践，STP+VRRP 是最可靠稳定的，而 VSS 会碰到切换时间长的问题，造成网络长时间不能恢复“。

后来简单分析过背后的逻辑：STP+VRRP 下始终是两台大脑在同时独立工作；而 VSS 下是单个大脑，另一台即使是热备，大脑切换也需要时间。

这就是理论和实践的差距。往往一个传统的技术，即使配置可能会复杂，也可能有些限制，但是它就是很稳。

多年后我一直记得这个事，几年后还真碰到过 H3C 设备 IRF 脑裂问题，或者设备重启丢配置等问题，没有大脑的设备恢复起来也是异常麻烦...



## 某公司的无线网扩容及改造

这是我做的第一个也是唯一一个无线项目，伴随着无线项目，还有一些遗留的 PIX 防火墙、ASA、专线



## 某单位核心网改造及机房搬迁



## Horizon View POC

因为试用期时学完了 VMware 虚拟化，而当时因为工程师变化（由独立的项目部转为工程师下放到每个业务部），部门里没有其他多余的人来做 VMware 的项目，于是只能由我上，摸石头过河。

在 2015 年一年内，给三个客户做了 Horizon View 的 POC，第一个算是上手，熟悉基本的组件架构，第二个则是做 GPU 虚拟化+ RDSH App，第三个是 GPU+VDI。

在当时 GPU 虚拟化出来时间不长，公司拿到了 NVIDIA Grid K1 及 K2 卡专门用于验证，Horizon 支持 RDSH 及 vGPU 的时间也不是很长，在区域内基本没多少人用



# 办公装备





# 关于写作



# 古典音乐



# 人生中的高光时刻

写浏览器插件代码，520的代码。



生活中总有无法解决的问题，悬疑未定的问题。



# 一个时代的过去

CCIE 过期
