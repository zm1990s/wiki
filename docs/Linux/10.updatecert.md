---
layout: default
title: 添加自定义根信任证书
parent: Linux
nav_order: 10
permalink: /docs/linux/ca
---

# 添加自定义根信任证书

{: .no_toc}

## 目录

{: .no_toc .text-delta }


1. TOC
{:toc}


# Ubuntu

将证书添加到  `/usr/local/share/ca-certificates/` 中，然后运行` update-ca-certificates` 更新根证书。

```bash
cat >>/usr/local/share/ca-certificates/ca.crt <<EOF
-----BEGIN CERTIFICATE-----
MIIC7DCCAdSgAwIBAgIJAObm4Np+47lpMA0GCSqGSIb3DQEBCwUAMCYxJDAiBgNV
BAMTGzE0MzYwMDIxMDQ2Mzg4ODYxNDQgUm9vdCBDQTAeFw0yNTA0MTcwNzA0MDda
Fw0yNzA0MTcwNzA0MDdaMCYxJDAiBgNVBAMTGzE0MzYwMDIxMDQ2Mzg4ODYxNDQg
Um9vdCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrMvNo+hBd9
M8fZ3q1/OPtHDSwb9Sx2cp//ptIbTMFETRHnd+S3xuejfYLI0cixYx0wGZ1wPPKB
CJhF9U5KZnMCAwEAAaMdMBswDAYDVR0TBAUwAwEB/zALBgNVHQ8EBAMCAgQwDQYJ
KoZIhvcNAQELBQADggEBADrr+WCOYQJBhkZH1KPPBtoATIjZ40Ml8NwjwnwBrwdz
rcUaBnsBNRyZ/Q+Yv48epR2lrnkquAIs1I45o8KJB7eneGmz/+wE8sIrtbtp+uXY
6jW8TXHADDmux+WZxuqjVGsxAknATsCVT6V4sLfM6R+qhcLrT6GuCRBnTvZitIaK
qVP2FmARnCDnSS4RxmYQ+bpPpCcOYjtAzbNZ8qqZhFmOLQggKByWx2MRTWbfX7p8
gDuEeja+7GKcaCpsIwMxPXY53x8gokw1F4wMnljeYzX4ZrFy1LAYGby1UmzfCLpd
eJhATNlw/uM/IgnxVj2Ps0qHBV1NytwclV/09qvGpIs=
-----END CERTIFICATE-----
EOF

update-ca-certificates
```



# Rocky9

将证书内容添加到 `/etc/pki/ca-trust/source/anchors/` 中，然后运行 `update-ca-trust extract`

运行完成后可以在此文件中查看是否附加上 `/etc/ssl/certs/ca-bundle.crt`

